(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[501],{9669:function(e,t,n){e.exports=n(51609)},55448:function(e,t,n){"use strict";var r=n(64867),o=n(36026),i=n(4372),a=n(15327),s=n(94097),u=n(84109),c=n(67985),f=n(85061);e.exports=function(e){return new Promise((function(t,n){var l=e.data,p=e.headers;r.isFormData(l)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(h+":"+g)}var m=s(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),a(m,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};o(t,n,i),d=null}},d.onabort=function(){d&&(n(f("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(f("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(f(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var y=(e.withCredentials||c(m))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;y&&(p[e.xsrfHeaderName]=y)}if("setRequestHeader"in d&&r.forEach(p,(function(e,t){"undefined"===typeof l&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(v){if("json"!==e.responseType)throw v}"function"===typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),n(e),d=null)})),l||(l=null),d.send(l)}))}},51609:function(e,t,n){"use strict";var r=n(64867),o=n(91849),i=n(30321),a=n(47185);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=s(n(45655));u.Axios=i,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=n(65263),u.CancelToken=n(14972),u.isCancel=n(26502),u.all=function(e){return Promise.all(e)},u.spread=n(8713),u.isAxiosError=n(16268),e.exports=u,e.exports.default=u},65263:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},14972:function(e,t,n){"use strict";var r=n(65263);function o(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},26502:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},30321:function(e,t,n){"use strict";var r=n(64867),o=n(15327),i=n(80782),a=n(13572),s=n(47185);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},80782:function(e,t,n){"use strict";var r=n(64867);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},94097:function(e,t,n){"use strict";var r=n(91793),o=n(7303);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},85061:function(e,t,n){"use strict";var r=n(80481);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},13572:function(e,t,n){"use strict";var r=n(64867),o=n(18527),i=n(26502),a=n(45655);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},80481:function(e){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},47185:function(e,t,n){"use strict";var r=n(64867);e.exports=function(e,t){t=t||{};var n={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=u(void 0,e[o])):n[o]=u(e[o],t[o])}r.forEach(o,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(i,c),r.forEach(a,(function(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=u(void 0,e[o])):n[o]=u(void 0,t[o])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var f=o.concat(i).concat(a).concat(s),l=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===f.indexOf(e)}));return r.forEach(l,c),n}},36026:function(e,t,n){"use strict";var r=n(85061);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},18527:function(e,t,n){"use strict";var r=n(64867);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},45655:function(e,t,n){"use strict";var r=n(34155),o=n(64867),i=n(16016),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof r&&"[object process]"===Object.prototype.toString.call(r))&&(e=n(55448)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),o.forEach(["post","put","patch"],(function(e){u.headers[e]=o.merge(a)})),e.exports=u},91849:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},15327:function(e,t,n){"use strict";var r=n(64867);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},7303:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:function(e,t,n){"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},91793:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},16268:function(e){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},67985:function(e,t,n){"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16016:function(e,t,n){"use strict";var r=n(64867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},84109:function(e,t,n){"use strict";var r=n(64867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},8713:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},64867:function(e,t,n){"use strict";var r=n(91849),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===o.call(e)}function f(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:f,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)f(arguments[r],n);return t},extend:function(e,t,n){return f(t,(function(t,o){e[o]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},16501:function(e,t,n){e.exports=n(97849)},3925:function(e,t,n){"use strict";var r=n(48764).Buffer;n(52756);const o=n(9669),i=n(6230),a=n(4041).baseUrl,s=n(753),u=Function("return this")();function c(e){this.defaults=e,o.defaults.headers.common["client-library"]="deepai-js-client"}c.prototype.setApiKey=function(e){this.apiKey=e,o.defaults.headers.common["api-key"]=e},c.prototype.callStandardApi=async function(e,t){const n=new i;for(var s of Object.keys(t))if(null!==t[s]&&void 0!==t[s])if("string"===typeof t[s])n.append(s,t[s]);else if(u.Element&&t[s]instanceof u.Element){var c=t[s];if("IMG"===c.tagName){if(!c.src)throw new Error("DeepAI error: Image element has no SRC: "+s);n.append(s,c.src)}else{if("INPUT"!==c.tagName||void 0===c.files)throw new Error("DeepAI error: DOM Element type for key: "+s);if(!(c.files.length>0))throw new Error("DeepAI error: File picker has no file picked: "+s);n.append(s,c.files[0],"file.jpeg")}}else if(t[s].hasOwnProperty("fd"))n.append(s,t[s]);else{if(!u.Buffer||!r.isBuffer(t[s]))throw new Error("DeepAI error: unknown input type for key: "+s);n.append(s,t[s],"file.jpeg")}var f={withCredentials:!0};void 0!==n.getHeaders&&(f.headers=n.getHeaders());return(await o.post(function(e){return a+"/api/"+e}(e),n,f)).data},c.prototype.renderResultIntoElement=s.renderResultIntoElement,c.prototype.renderAnnotatedResultIntoElement=s.renderAnnotatedResultIntoElement,e.exports=c},4041:function(e){"use strict";e.exports={baseUrl:"https://api.deepai.org"}},753:function(e,t,n){"use strict";const r=n(4041).baseUrl;var o=["rgb(173, 35, 35)","rgb(42, 75, 215)","rgb(87, 87, 87)","rgb(29, 105, 20)","rgb(129, 74, 25)","rgb(129, 38, 192)","rgb(160, 160, 160)","rgb(129, 197, 122)","rgb(157, 175, 255)","rgb(41, 208, 208)","rgb(255, 146, 51)","rgb(199, 183, 0)","rgb(233, 222, 187)","rgb(255, 205, 243)"],i=new RegExp("^([a-z]+://|//)","i"),a=new RegExp("^(data|blob):","i");function s(e){return i.test(e)||a.test(e)?e:r+e}function u(e,t,n){var r=[];for(var o of e)if(!(o.length<2)){r.push("M");var i=!0;for(var a of o){if(r.push(a[0]-t+","+(a[1]-n)),isNaN(a[0])||isNaN(a[1]))return console.log("not showing invalid polygon, found NaN"),"";i&&(r.push("L"),i=!1)}r.push("z")}return r.join(" ")}function c(e,t){if(t.innerHTML="",e.err)return t.innerHTML=err,!1;if(e.output){if(console.log("got json or text output"),"string"===typeof e.output){(a=document.createElement("div")).style.width="100%",a.style.height="100%",a.style.overflow="auto",a.style.display="flex",a.style.alignItems="center",a.style.flexDirection="column",t.appendChild(a);var n=document.createElement("pre");for(var r of(n.textContent=e.output,n.style.whiteSpace="pre-wrap",n.style.margin="0px",a.appendChild(n),e.inputs)){if(r.is_img)(c=document.createElement("img")).src=s(r.url),c.style.position="relative",c.style.width="100%",c.style.height="100%%",c.style.objectFit="contain",a.appendChild(c)}return!0}if("object"===typeof e.output){if(1==e.inputs.length&&e.inputs[0].is_img&&e.visualizer_data){console.log("have visualizer for result JSON");var i=document.createElement("iframe");return i.onload=function(){var t=i.contentDocument.body;t.style.margin="0px",t.style.overflow="hidden";var n=document.createElement("boundingboxcontainer");n.style.position="relative",n.style.opacity="0.001",t.appendChild(n);var r=document.createElement("img");r.src=s(e.inputs[0].url),r.style.position="absolute",n.appendChild(r);var a=function(){console.log("iframe resize"),i.contentDocument.body.style.transform=null;var e=i.contentDocument.body.scrollWidth,t=i.contentDocument.body.scrollHeight,o=r.offsetWidth,a=r.offsetHeight,s=i.offsetWidth,u=i.offsetHeight,c=0,f=0;if(o<e&&a<t){var l=s/o,p=u/a;c=s-o*(d=Math.min(l,p)),f=u-a*d}else{var d;l=s/e,p=u/t;c=s-e*(d=Math.min(l,p)),f=u-t*d}c/=d,f/=d,i.contentDocument.body.style.transformOrigin="top left",i.contentDocument.body.style.transform="scale("+d+")",n.style.setProperty("--scaleapplied",d),n.style.setProperty("--fontscale",100/d+"%"),n.style.left=c/2+"px",n.style.top=f/2+"px",n.style.opacity="1"};i.contentWindow.onresize=a,r.onload=a;var c=function(e,t,n){var r=(e=JSON.parse(JSON.stringify(e)))[t.list_key];r.sort((function(e,t){return t.confidence-e.confidence}));for(var o=r.length,i=[],a=0;a<o;a++){var s,u=r[a];if("demographic"==t.label_key)s=u[t.label_key]?u[t.label_key]:u.cultural_appearance+" "+u.gender+", "+u.age_range[0]+"-"+u.age_range[1];else if("people"==t.label_key){var c=[];u["facial-expression-recognition"]&&null!=u["facial-expression-recognition"].emotion&&c.push(f(u["facial-expression-recognition"].emotion)),u["demographic-recognition"]&&null!=u["demographic-recognition"].cultural_appearance&&c.push(u["demographic-recognition"].cultural_appearance+" "+u["demographic-recognition"].gender+", "+u["demographic-recognition"].age_range[0]+"-"+u["demographic-recognition"].age_range[1]),u["celebrity-recognition"]&&null!=u["celebrity-recognition"].name&&"unknown"!=u["celebrity-recognition"].name&&c.push(l(u["celebrity-recognition"].name)),s=c.length>0?c.join(", "):"Face"}else if("pose"==t.label_key){const e=[["nose","right_eye"],["nose","left_eye"],["right_eye","right_ear"],["left_eye","left_ear"],["right_shoulder","right_elbow"],["left_shoulder","left_elbow"],["right_elbow","right_hand"],["left_elbow","left_hand"],["right_hip","right_knee"],["left_hip","left_knee"],["right_knee","right_foot"],["left_knee","left_foot"]];s="";var p=[];for(var d of e){var h=u[t.label_key][d[0]],g=u[t.label_key][d[1]];if(h&&g){var m=[h=JSON.parse(JSON.stringify(h)),g=JSON.parse(JSON.stringify(g))];p.push(m)}}u.mask_vertices=p}else if((s=u[t.label_key])&&s.constructor===String);else{var y=Object.keys(s);s=1==y.length?s[y[0]]:JSON.stringify(s)}if(u.bounding_box&&(u.bounding_box[0]*=n,u.bounding_box[1]*=n,u.bounding_box[2]*=n,u.bounding_box[3]*=n),u.mask_vertices)for(var v of u.mask_vertices)for(var b of v)b[0]*=n,b[1]*=n;i.push({bounding_box:u.bounding_box,mask_vertices:u.mask_vertices,caption:s})}return i}(e.output,e.visualizer_data,e.scale_applied);console.log("processed annotations",c);var p=0;for(var d of c){var h,g,m,y,v=document.createElement("boundingbox");v.style.position="absolute";var b=o[p++%o.length];if(d.mask_vertices){var w=null,x=null,_=null,E=null;for(var j of d.mask_vertices)for(var S of j){var C=S[0],k=S[1];(null===w||C<w)&&(w=C),(null===x||k<x)&&(x=k),(null===_||C>_)&&(_=C),(null===E||k>E)&&(E=k)}m=_-w,y=E-x,h=w,g=x;var N=document.createElementNS("http://www.w3.org/2000/svg","svg");N.style.position="absolute",N.style.overflow="visible",N.style.width=m+"px",N.style.height=y+"px";var A=document.createElementNS("http://www.w3.org/2000/svg","path");A.setAttributeNS(null,"d",u(d.mask_vertices,h,g)),A.style.fill="none",A.style.stroke=b,A.style.strokeWidth="calc(2px / var(--scaleapplied))",N.appendChild(A),v.appendChild(N),v.style.border="none"}else{if(!d.bounding_box)throw new Exception("Neither mask_vertices or bounding_box is passed, unknown annotation format");h=d.bounding_box[0],g=d.bounding_box[1],m=d.bounding_box[2],y=d.bounding_box[3],v.style.border="calc(2px / var(--scaleapplied)) solid "+b}v.style.left=h+"px",v.style.top=g+"px",v.style.width=m+"px",v.style.height=y+"px",n.appendChild(v);var O=document.createElement("boundingboxlabel");O.textContent=d.caption,O.style.color="white",O.style.fontFamily="arial",O.style.backgroundColor=b,O.style.fontSize="var(--fontscale)",O.style.position="absolute",v.appendChild(O)}},i.src="about:blank",i.style.border="none",i.style.width="100%",i.style.height="100%",t.appendChild(i),!0}var a;console.log("no visualizer for result JSON"),(a=document.createElement("div")).style.width="100%",a.style.height="100%",a.style.overflow="auto",a.style.display="flex",a.style.alignItems="center",a.style.flexDirection="column",t.appendChild(a);n=document.createElement("pre");for(var r of(n.style.margin="0px",n.textContent=JSON.stringify(e.output,null,4),a.appendChild(n),e.inputs)){if(r.is_img)(c=document.createElement("img")).src=s(r.url),c.style.width="100%",c.style.height="79%",c.style.objectFit="contain",a.appendChild(c)}return!0}return t.innerHTML="Model returned an unknown data type.",!1}var c;return e.output_url?(console.log("got image output"),(c=document.createElement("img")).src=e.output_url,c.style.position="relative",c.style.width="100%",c.style.height="100%",c.style.objectFit="contain",t.appendChild(c),!0):(t.innerHTML="Model did not return an output or an error.",!1)}function f(e){return e.charAt(0).toUpperCase()+e.slice(1)}function l(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}e.exports={renderResultIntoElement:async function(e,t){console.log("getting result page data");var n=await async function(e){if(e.err)return console.log("cannot get result page data for error result"),e;var t=await fetch(r+"/get_standard_api_result_data/"+e.id,{credentials:"include"}),n=(t=await t.json()).result_data;return{err:e.err,output:e.output,output_url:e.output_url,id:e.id,inputs:n.inputs,visualizer_data:n.visualizer_data,scale_applied:n.scale_applied}}(e);return console.log("got result page data"),c(n,t)},renderAnnotatedResultIntoElement:c}},97849:function(e,t,n){"use strict";var r=n(52756),o=n(3925),i=n(90129),a=n(50574);function s(e){var t=new o(e),n=a(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=s(i);u.DeepAI=o,u.create=function(e){return s(mergeConfig(u.defaults,e))},e.exports=u,e.exports.default=u},90129:function(e,t,n){"use strict";n(52756);e.exports={apiKey:null}},50574:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},52756:function(e,t,n){"use strict";var r=n(50574),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return null!==e&&"object"===typeof e}function s(e){return"[object Function]"===o.call(e)}function u(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:a,isUndefined:function(e){return"undefined"===typeof e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:s,isStream:function(e){return a(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:u,merge:function e(){var t={};function n(n,r){"object"===typeof t[r]&&"object"===typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"===typeof t[r]&&"object"===typeof n?t[r]=e(t[r],n):t[r]="object"===typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,o){e[o]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},6230:function(e){e.exports="object"==typeof self?self.FormData:window.FormData}}]);